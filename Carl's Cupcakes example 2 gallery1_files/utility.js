define("utility",["module","jquery","backbone","modernizr"],function(f,c,a,e){Date.now=Date.now||function(){return +new Date};(function(h,n){var l=n.MO,j=false,k=h.extend({},l);if(typeof f!=="undefined"&&f.exports){n.MO=k;f.exports=n.MO;j=true}else{n.MO={}}k.VERSION="1.0.0.1";k.util={};k.validate={};k.debug={};k.Social={};k.Exception={};k.AllTypeEnums=["node","text","select","submit"];k.InputTypeEnums=["text","select","textarea"];k.InnerStringEnums=["node"];k.Key={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27};k.ContentType={Local:16849,Keywords:16851,ContactForm:16870,BlogCategory:16917,Miscellaneous:16872,SocialPost:17143,BasicInfo:16850,Testimonials:16842,Team:16843,Social:16847,Images:16844,Videos:16845,Files:16846,Locations:16852,FAQ:16848,Press:16964,Article:16871,Blog:16916,InfrastructureMap:16922,Accounts:16960,News:16964,Clientele:17248,Blind:17370};k.AppSettings={RewardActionItem:16973,RewardLevels:16974,BlogSettings:16977,GamifySettings:17044,LanguageSettings:17045,CustomersSetting:17047,ProjectExternalAPI:17126,StoreSettings:17128,SocialNetworkSettings:17136,AppointmentSetting:17139,PrinterSetting:17249,SocialNotificationSettings:17277,Analytics:17282};k.ImageSize={Original:"",Huge:"_h",Large:"_l",Medium:"_m",Small:"_s",Tiny:"_t"};k.APIType={Web:0,Google:1,Flickr:2,Yelp:3,Foursquare:4,Facebook:5,Twitter:6,Houzz:7,MoproMedia:8,Instagram:10,Pinterest:11,GooglePlus:12,Linkedin:13,Myspace:14,TripAdvisor:15,Weibo:16,YouTube:17,GooglePlaces:18,YellowPages:19,GoogleLocal:20,BingLocal:21,YahooLocal:22,ShowmeLocal:23,MapQuest:24,CitySearch:25,ExpressUpdate:26,MerchantCircle:27,YellowBot:28,GoogleImage:29};k.MapStyleType={Original:17426,Light:17427,Dark:17428,Greyscale:17430};k.noConflict=function(){n.MO=l;return k};k.onError=function(o,q,p){console.log("onError",o,q,p)};if("window" in n){window.onerror=k.onError}k.AppName=f.config().AppName;n.MO=k;k.root=n;if(!"console" in k.root){k.root.console={};k.root.console.log=h.noop()}n.__DEV__=f.config().isDevelopment})(c,this);MO.getKeyCode=function(h){var j=(h.which)?h.which:h.keyCode;return j};MO.isESC=function(h){return(MO.getKeyCode(h)===MO.Key.ESC)};MO.isENTER=function(h){return(MO.getKeyCode(h)===MO.Key.ENTER)};MO.isSecure=function(){return(MO.root.location.protocol==="http:")?false:true}();MO.isBlank=MO.validate.isBlank=function(h){return(!h||c.trim(h)==="")};MO.isString=MO.validate.isString=function(h){return typeof(h)==="string"};MO.isNumber=MO.validate.isNumber=function(h){return !isNaN(parseFloat(h))&&isFinite(h)};MO.isInteger=MO.validate.isInteger=function(h){return(typeof h==="number"||typeof h==="string")&&parseFloat(h)==parseInt(h,10)&&!isNaN(h)&&isFinite(h)};MO.isUndefined=MO.validate.isUndefined=function(h){return typeof(h)==="undefined"};MO.isAlphanumeric=MO.validate.isAlphanumeric=function(j){var k=this.getKeyCode(j);if(k>36&&k<=40){return}var h=c(j.currentTarget);h.val(h.val().replace(/[^a-zA-Z0-9\s]/g,""))};MO.isNumberKey=MO.validate.isNumberKey=function(j){var k=this.getKeyCode(j);if(k>36&&k<=40){return}var h=c(j.currentTarget);h.val(h.val().replace(/[^0-9]/g,""))};MO.isEmail=MO.validate.isEmail=function(h){h=c.trim(h);return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(h)};MO.isURL=MO.validate.isURL=function(h){h=c.trim(h);return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(h)};MO.isAdmin=function(k){var j=(!MO.isUndefined(k)&&k!=null)?k:false,h=function(){return j};return{get:h}}(f.config().isAdmin);MO.toString=function(h){return h+""};MO.Social.isYoutubeURL=MO.validate.isYoutubeURL=function(h){return(MO.validate.isURL(h))?/^.*(youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/.test(c.trim(h)):false};MO.Social.getYoutubeEmbed=function(h){return(MO.validate.isYoutubeURL(h))?"http://www.youtube.com/embed/"+MO.getQueryParameterByURL(c.trim(h),"v")+"?rel=0&wmode=transparent":null};MO.Social.isVimeoURL=MO.validate.isVimeoURL=function(h){return(MO.validate.isURL(h))?true:false};MO.Social.getVimeoEmbed=function(h){return(MO.validate.isVimeoURL(h))?"http://player.vimeo.com/video/?wmode=transparent":null};MO.Social.ContentType=MO.Social.getContentType=(function(h){var j={Twitter:16856,Facebook:16857,Pinterest:16858,Instagram:16859,Myspace:16860,Linkedin:16861,GooglePlaces:16862,GooglePlus:16863,Flickr:16864,Yelp:17140,YouTube:17141,TripAdvisor:17142,Weibo:17238,Houzz:17246},k=function(){return j},l=function(p){for(var o in j){if(j[o]===p){return o}}return null},n=function(o){return(!MO.isBlank(j[o]))?j[o]:null};return{getValue:l,getKey:n,getEnum:k}})(c);MO.validateForm=(function(h){var j={init:function(l){var k={showErrors:true,restrict:true,errors:[]};k=h.extend({},k,l);return this.each(function(){var n=h(this),o=n.data("vform");if(!o){n.data("vform",{target:n,opts:k});if(k.restrict){n.validateForm("restrict")}}})},restrict:function(){var n=/[1234567890]/g;var o=/[0-9\.]/g;var l=/[A-Za-z]/g;var k=h(this);if(!MO.isUndefined(k.data("vform"))){this.find("input[data-restrict]").each(function(s,p){p=h(p);var r=new Object();var q=p.getWaterValue();switch(p.data("restrict")){case"int":h(p).bind("keypress.validation",{obj:this,validRegex:n},function(u){if(!u){var u=window.event}if(u.keyCode){code=u.keyCode}else{if(u.which){code=u.which}}var t=String.fromCharCode(code);if(code==27){this.blur();return false}if(!u.ctrlKey&&code!=9&&code!=8&&code!=36&&code!=37&&code!=38&&(code!=39||(code==39&&t=="'"))&&code!=40){if(t.match(u.data.validRegex)){return true}else{return false}}});break;case"decimal":h(p).bind("keypress.validation",{obj:this,validRegex:o},function(u){if(!u){var u=window.event}if(u.keyCode){code=u.keyCode}else{if(u.which){code=u.which}}var t=String.fromCharCode(code);if(code==27){this.blur();return false}if(!u.ctrlKey&&code!=9&&code!=8&&code!=36&&code!=37&&code!=38&&(code!=39||(code==39&&t=="'"))&&code!=40){if(t.match(u.data.validRegex)){return true}else{return false}}});break;case"char":h(p).bind("keypress.validation",{obj:this,validRegex:l},function(u){if(!u){var u=window.event}if(u.keyCode){code=u.keyCode}else{if(u.which){code=u.which}}var t=String.fromCharCode(code);if(code==27){this.blur();return false}if(!u.ctrlKey&&code!=9&&code!=8&&code!=36&&code!=37&&code!=38&&(code!=39||(code==39&&t=="'"))&&code!=40){if(t.match(u.data.validRegex)){return true}else{return false}}});break;case"zip":case"zipcode":break}})}else{h.error("Validation is not initialized for the element "+k)}},validate:function(){var k=true;var l=this;var n=null;this.each(function(){var o=h(this);if(!MO.isUndefined(o.data("vform"))){n=o.data("vform").opts;n.errors=[];k=o.ValidateRequired();o.find("input[data-validation],textarea[data-validation]").each(function(t,p){p=h(p);var r={},s=false,q=p.getWaterValue();switch(p.data("validation")){case"email":if(!MO.isBlank(q)&&!MO.isEmail(q)){r.errorText="Invalid Email";s=true}break;case"phone":break;case"fax":break;case"zip":case"zipcode":break;case"url":if(!MO.isBlank(q)&&!MO.isURL(q)){r.errorText=MO.isBlank(p.data("errormessage"))?"Invalid URL":p.data("errormessage");s=true}break;case"integer":if(!MO.isBlank(q)&&!MO.isInteger(q)){r.errorText=MO.isBlank(p.data("errormessage"))?"Invalid Integer value":p.data("errormessage");s=true}break;case"float":if(!MO.isBlank(q)&&!MO.isNumber(q)){r.errorText=MO.isBlank(p.data("errormessage"))?"Invalid Float Value":p.data("errormessage");s=true}break;default:if(!MO.isBlank(q)&&!MO.isNumber(q)){}}if(s){r.element=p;r.value=q;n.errors.push(r)}});if(n.showErrors&&n.errors.length>0){o.validateForm("showErrors")}o.data("vform").opts=n;k=(n.errors.length>0)?false:k}else{h.error("Validation is not initialized for the element "+o);k=false}});return k},showErrors:function(){var k=h(this);var l=k.data("vform").opts;h(l.errors).each(function(o,n){var p=n.element.parent(".input-block,.input-right");p.toggleClass("error",true);if(p.children(".error-message").length>0){n.element.parent(".input-block,.input-right").children(".error-message").html("<p>"+n.errorText+"</p>")}else{n.element.parent(".input-block,.input-right").append(h("<div class='error-message'></div>").html("<p>"+n.errorText+"</p>"))}})},getErrors:function(){var k=h(this);var l=k.data("vform").opts},destroy:function(){return this.each(function(){var k=h(this),l=k.data("vform");k.find("input[data-restrict]").unbind(".validation");k.removeData("vform")})}};h.fn.validateForm=function(k){if(j[k]){return j[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return j.init.apply(this,arguments)}else{h.error("Method "+k+" does not exist on MO.validateForm")}}};return h.fn.validateForm})(c);MO.now=(Date.now()||function(){return new Date().getTime()});MO.debug.log=function(){MO.debug.log.history=MO.debug.log.history||[];MO.debug.log.history.push(arguments);if(MO.root.__DEV__&&MO.root.console){console.log(Array.prototype.slice.call(arguments))}};MO.getQueryParameter=function(o){var n=window.location.search.substring(1),h="#",j="";if(window.location.hash.indexOf("#!")>-1){j=window.location.hash.replace("#!","")}else{j=window.location.hash.replace("#","")}if(j[0]!="&"){j="&"+j;n=n+j}var p=n.split("&");for(var k=0;k<p.length;k++){var l=p[k].split("=");if(l[0]==o){return unescape(l[1])}}return null};MO.getQueryParameterByURL=function(k,h){h=h.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var j=new RegExp("[\\?&]"+h+"=([^&#]*)").exec(k);return(j!=null)?decodeURIComponent(j[1].replace(/\+/g," ")):""};MO.getJavaScriptQueryParameter=function(h){var j=document.getElementsByTagName("script");m=(new RegExp("[?&;]"+h+"=([^&;#]*)")).exec(j[j.length-1].src);return m?unescape(m[1]):null};MO.HostPath=(function(n,l){var j=decodeURIComponent(n),h=decodeURIComponent(l),k=function(o){if(MO.isBlank(o)){return window.location.protocol+"//"+window.location.host}else{if(o==="dashboard"){return window.location.protocol+"//"+j}else{if(o==="builder"){return window.location.protocol+"//"+h}else{return window.location.protocol+"//"+f.config()[o+"WebPath"]}}}};return{get:k}})(f.config().DashboardWebPath,f.config().BuilderWebPath);MO.StaticPath=(function(s,r,q,p,t){var n=decodeURIComponent(s),k=decodeURIComponent(r),j=decodeURIComponent(q),h=decodeURIComponent(p),o=decodeURIComponent(t),l=function(u){if(MO.isBlank(u)){return window.location.protocol+"//"+n}else{if(u==="dashboard"){return window.location.protocol+"//"+k}else{if(u==="builder"){return window.location.protocol+"//"+j}else{if(u==="administration"){return window.location.protocol+"//"+h}else{if(u==="websiteoutput"){return window.location.protocol+"//"+o}else{return window.location.protocol+"//"+f.config()[u+"StaticPath"]}}}}}};return{get:l}})(f.config().StaticPath,f.config().DashboardStaticPath,f.config().BuilderStaticPath,f.config().AdministrationStaticPath,f.config().WebsiteOutputStaticPath);MO.UIKitPath=(function(k){var j=decodeURIComponent(k),h=function(){return window.location.protocol+"//"+j};return{get:h}})(f.config().UIKitPath);MO.registerModule=function(h,k,j){var l=k;if(h!=null&&typeof h!="undefined",k!=null&&typeof k!="undefined"&&j!=null&&typeof j!="undefined"){if(typeof j[h]!="undefined"){delete j[h]}j[h]=k;bindElement=function(n){n.getEl=function(){var o=this;if(c.isArray(o.el)){var p=c(o.el[0]+"["+o.el[1]+"$="+o.el[2]+"]");if(p.length>0){o.el=p}}return o.el};if(c.inArray(n.otype,MO.InputTypeEnums)>=0){if(!c.isArray(n.getEl())&&typeof n.getEl().attr("data-placehold")!="undefined"){n.watermark=n.getEl().attr("data-placehold")}if(!c.isArray(n.getEl())&&typeof n.getEl().attr("name")!="undefined"){n.name=n.getEl().attr("name")}n.getValue=function(){var o=this;if(!c.isArray(o.el)){var p=c.trim(o.getEl().val());if(o.watermark!=null&&typeof o.watermark!="undefined"&&p==o.watermark){return""}else{return p}}else{return null}};n.setValue=function(p){var o=this;if(!c.isArray(o.el)){return o.getEl().val(c.trim(p))}else{return null}}}if(c.inArray(n.otype,MO.InnerStringEnums)>=0){n.getValue=function(){var o=this;return c.trim(o.getEl().val())};n.setValue=function(p){var o=this;return o.getEl().html(c.trim(p))}}};bindEvents=function(n){if(c.isPlainObject(n.listeners)&&!c.isEmptyObject(n.listeners)){c.each(n.listeners,function(o,p){if(c.isFunction(p)){if(n.getEl()!=null&&typeof n.getEl()=="object"){var q=n.getEl();if(!c.isArray(q)){q.unbind(o,p);q.bind(o,{element:q,caller:n},function(r){if(n.listeners[o]){return p(r.data.caller,r.data.element,r)}})}}}})}};extendModel=function(n){c.each(n,function(o,p){if(p!=null&&p.el!=null&&typeof p.el!="undefined"){if(p!=undefined&&p!=null&&typeof(p)=="object"&&p.otype!=undefined&&c.inArray(p.otype,MO.AllTypeEnums)>=0&&o!="owner"&&o!="parent"){p.parent=n;p.owner=l;bindElement(p);bindEvents(p);extendModel(p);if(!c.isArray(p.getEl())){p.getEl().trigger("init")}}}})};bindElement(k);bindEvents(k);if(!c.isArray(k.getEl())){k.getEl().trigger("init")}extendModel(k);if(c.isFunction(k.complete)){k.complete()}return true}};MO.Proxy=(function(h){var j={options:{},cache:false,url:window.location.href,datatype:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{},method:"GET",crossDomain:true,headers:{},beforeSend:h.noop,onError:h.noop,onSuccess:h.noop},k=function(n){return h.extend({},j,n)},l=function(p){if(h.isPlainObject(p)){h.support.cors=true;var n=k(p),o=h.ajax({cache:n.cache,url:n.url,dataType:n.datatype,contentType:(MO.isString(n.contentType)&&!MO.isBlank(n.contentType))?n.contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:(h.isPlainObject(n.data)&&!MO.isBlank(n.data))?h.param(n.data):n.data,type:(MO.isString(n.method)&&!MO.isBlank(n.method))?n.method:"GET",crossDomain:n.crossDomain,headers:n.headers,beforeSend:function(q,r){if(h.isFunction(n.beforeSend)){n.beforeSend(q,r,n)}},success:function(q){if(h.isFunction(n.onSuccess)){n.onSuccess(q,n)}},error:function(r,s,q){if(h.isFunction(n.onError)){n.onError(r,n)}},complete:function(q,r){switch(r){case"error":break;case"timeout":break;case"parsererror":break}}});return o}};return{send:l}})(c);MO.ApiProxy=(function(h){var j={options:{},host:"shop",url:window.location.href,data:{},method:"GET",headers:{},beforeSend:h.noop,onError:h.noop,onSuccess:h.noop},k=function(n){return h.extend({},j,n)},l=function(p){if(h.isPlainObject(p)){var o=k(p),n=MO.Proxy.send({url:(e.cors)?f.config().apiUrl[p.host]+p.url:"/_service/api.ashx?url="+f.config().apiUrl[p.host]+p.url+"&method="+((MO.isString(p.method)&&!MO.isBlank(p.method))?p.method:"GET"),contentType:"application/json",data:o.data,method:(e.cors)?o.method:((p.method=="PUT"||p.method=="DELETE")?"POST":p.method),headers:o.headers,beforeSend:o.beforeSend,onSuccess:o.onSuccess,onError:o.onError});return n}};return{send:l}})(c);MO.ActivityIndicator=(function(h){var o=null,j={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:false,hwaccel:false,className:"spinnerClass",zIndex:2000000000,top:"auto",left:"auto"},l=function(p){if(MO.isBlank(p)){return j}else{return h.extend({},j,p)}},n=function(q,p){require(["spin"],function(r){k();p=l(p);var s=(MO.isString(q))?document.getElementById(q):h(q)[0];if(!MO.isBlank(s)){o=new r(p).spin(s)}return o})},k=function(){if(o!=null){o.stop()}};return{load:l,show:n,hide:k}})(c);(function(h){var j={init:function(l){var k={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:false,hwaccel:false,className:"spinnerClass",zIndex:2000000000,top:"auto",left:"auto"};k=h.extend({},k,l);return this.each(function(){var n=h(this),o=n.data("ActivityIndicator");if(!o){require(["spin"],function(p){_spinner=new p(k).spin(n[0]);n.data("ActivityIndicator",_spinner)})}})},destroy:function(){return this.each(function(){var k=h(this),l=k.data("ActivityIndicator");if(!MO.isBlank(l)){l.stop();k.removeData("ActivityIndicator")}})}};h.fn.ActivityIndicator=function(k){if(j[k]){return j[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return j.init.apply(this,arguments)}else{h.error("Method "+k+" does not exist on MO.validateForm")}}};return h.fn.ActivityIndicator})(c);MO.Module=(function(h){var n=null,j={doShowLoading:true,url:"/ajax/ModuleLoader.aspx",el:null,module:"",params:{},method:"GET",parseResponseExp:null,onSuccess:h.noop()},k=function(o){return h.extend({},j,o)},l=function(q){var r=this;if(h.isPlainObject(q)){var o=k(q),p="uc="+o.module+"&"+(!MO.isBlank(o.params)?(h.isPlainObject(o.params)?h.param(o.params):(MO.isString(o.params)?o.params:"")):"");if(o.doShowLoading){h(o.el).ActivityIndicator()}r.xhr=MO.Proxy.send({options:{containerEl:o.el},url:o.url,datatype:"html",method:o.method,data:c.deparam(p),onSuccess:function(t,s){if(o.doShowLoading){window.setTimeout(function(){h(o.el).ActivityIndicator("destroy")},250)}if(MO.isBlank(o.parseResponseExp)){if(!MO.isBlank(s.options.containerEl)){s.options.containerEl.html(t)}}else{if(!MO.isBlank(s.options.containerEl)){s.options.containerEl.html(h(t).find(o.parseResponseExp).html())}}if(h.isFunction(o.onSuccess)){o.onSuccess(t,o)}},onError:function(t,s){if(o.doShowLoading){MO.ActivityIndicator.hide()}}})}return r.xhr};return{send:l}})(c);MO.loadModule=function(k,o,r,h,j,p,l){l=!MO.isUndefined(l)?l:true;if(l){MO.ActivityIndicator.show(k)}var q=function(t,s){if(l){MO.ActivityIndicator.hide()}s.options.containerEl.html(t);if(c.isFunction(h)){h(t,s)}};var p=function(t,s){if(l){MO.ActivityIndicator.hide()}if(c.isFunction(p)){p(t,s)}};var n=function(y,z,u,B,A,x){var w="/ajax/ModuleLoader.aspx",v="m="+z+"&"+(!MO.isBlank(u)?(c.isPlainObject(u)?c.param(u):(MO.isString(u)?u:"")):""),t="GET",s="html";MO.Proxy.send({options:{containerEl:y},url:w,method:t,datatype:s,data:c.deparam(v),onSuccess:B,onError:A})};var k=(k instanceof c)?k:(MO.isString(k)?c(k):null);n(k,o,r,q,p,j)};MO.xStopPropagation=function(h){try{h.preventDefault()}catch(j){}if((navigator.userAgent.indexOf("MSIE")>-1&&(navigator.userAgent.indexOf("MSIE 5")==-1||navigator.userAgent.indexOf("MSIE 6")==-1)&&!(navigator.userAgent.indexOf("opera")>-1))){if(!h){h=window.event}if(h.cancelBubble!=undefined){h.cancelBubble=true}else{h.stopPropagation()}}else{h.stopPropagation()}};MO.deparam=(function(h){h.deparam=function(n,j){var l={},k={"true":!0,"false":!1,"null":null};h.each(n.replace(/\+/g," ").split("&"),function(q,w){var u=w.split("="),r=decodeURIComponent(u[0]),x,o=l,p=0,s=r.split("]["),t=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[t])){s[t]=s[t].replace(/\]$/,"");s=s.shift().split("[").concat(s);t=s.length-1}else{t=0}if(u.length===2){x=decodeURIComponent(u[1]);if(j){x=x&&!isNaN(x)?+x:x==="undefined"?undefined:k[x]!==undefined?k[x]:x}if(t){for(;p<=t;p++){r=s[p]===""?o.length:s[p];o=o[r]=p<t?o[r]||(s[p+1]&&isNaN(s[p+1])?{}:[]):x}}else{if(h.isArray(l[r])){l[r].push(x)}else{if(l[r]!==undefined){l[r]=[l[r],x]}else{l[r]=x}}}}else{if(r){l[r]=j?undefined:""}}});return l}})(c);(function(h){var j={init:function(t){var n=false,o=17,u=86,l=67,r=27,v=122;var q={className:"watermark",colorText:"#000000",colorWatermarkText:"#a1a1a1"};if(h.isPlainObject(t)){q=h.extend({},q,t)}h(document).keydown(function(w){if(w.keyCode==o){n=true}}).keyup(function(w){if(w.keyCode==o){n=false}});var s=function(x){var w=(x.which)?x.which:x.keyCode;if(w==r){h(x.data.element).blur();h(x.data.element).focus()}else{if(n&&w===v){if(h.trim(h(x.data.element).val())==""||h.trim(h(x.data.element).val())==h(x.data.element).data("placehold")){return false}else{return true}}}};var k=h(this),p=k.data("Watermarkify");if(true){k.find('input[type=text][data-placehold][data-placehold!=""],input[type=tel][data-placehold][data-placehold!=""],textarea[data-placehold][data-placehold!=""]').each(function(A,x){if(h.trim(h(x).val())==""||h.trim(h(x).val().toLowerCase())==MO.toString(h(x).data("placehold")).toLowerCase()){h(x).val(h(x).data("placehold")).addClass(q.className).css("color",q.colorWatermarkText)}else{h(x).removeClass(q.className).css("color",q.colorText)}var y=function(B){if(h.trim(h(B.data.element).val())==h(B.data.element).data("placehold")){h(B.data.element).val("").removeClass(q.className).css("color",q.colorText)}};h(x).unbind("focusin",y);h(x).bind("focusin",{element:this},y);var z=function(B){if(h.trim(h(B.data.element).val())==""||h.trim(h(B.data.element).val().toLowerCase())==MO.toString(h(B.data.element).data("placehold")).toLowerCase()){h(B.data.element).val(h(B.data.element).data("placehold")).addClass(q.className).css("color",q.colorWatermarkText)}};h(x).unbind("focusout",z);h(x).bind("focusout",{element:this},z);var w=function(B){if(h.trim(h(B.data.element).val())!=""&&h.trim(h(B.data.element).val())!=h(B.data.element).data("placehold")){h(B.data.element).removeClass(q.className).css("color",q.colorText)}else{h(B.data.element).val(h(B.data.element).data("placehold")).addClass(q.className).css("color",q.colorWatermarkText)}};h(x).unbind("change",w);h(x).bind("change",{element:this},w);h(x).unbind("keypress",s);h(x).bind("keypress",{element:this},s)});k.find('input[type=password][data-placehold][data-placehold!=""]').each(function(B,y){var x=h(y),C=null;if(h.trim(x.val())==""||h.trim(x.val().toLowerCase())==MO.toString(x.data("placehold")).toLowerCase()){C=h("<span/>").text(x.data("placehold")).addClass(x.attr("data-placehold-class"));C.bind("click",function(){x.focus();C.hide()});x.before(C)}var z=function(D){if(!h.trim(h(D.data.element).val())){h(D.data.element).val("").removeClass(q.className).css("color",q.colorText);C.hide()}};x.unbind("focusin",z);x.bind("focusin",{element:this},z);var A=function(D){if(!h.trim(h(D.data.element).val())){h(D.data.element).addClass(q.className).css("color",q.colorWatermarkText);C.show()}};x.unbind("focusout",A);x.bind("focusout",{element:this},A);var w=function(D){if(h.trim(h(D.data.element).val())!=""&&h.trim(h(D.data.element).val())!=h(D.data.element).data("placehold")){h(D.data.element).removeClass(q.className).css("color",q.colorText);C.hide()}else{h(D.data.element).addClass(q.className).css("color",q.colorWatermarkText);C.show()}};x.unbind("change",w);x.bind("change",{element:this},w);x.unbind("keypress",s);x.bind("keypress",{element:this},s)});k.data("Watermarkify",k)}}};h.fn.Watermarkify=function(k){if(j[k]){return j[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return j.init.apply(this,arguments)}else{return j.init.apply(this,arguments)}}};return h.fn.Watermarkify})(c);MO.getWaterValue=(function(h){h.fn.getWaterValue=function(){var k=h.trim(h(this).val()),l=h(this).data("placehold")+"";if(k!==l){if(h(this).data("type")==="int"){var j=parseInt(k);return(MO.isNumber(j))?j:null}else{if(h(this).data("type")==="float"){var j=parseFloat(k);return(MO.isNumber(j))?j:null}else{return k}}}else{return""}}})(c);MO.pixels=function(j,h){if(j.jquery&&_.isElement(j)&&j.is(":visible")){return parseFloat(c.fn.css.apply(j,h))}else{return 0}};MO.PostMessage=(function(h){var j={},k=function(n){j=n;return this},l=function(n){if(!MO.isBlank(j)){require(["postmessage"],function(p){try{pm({target:window.parent,type:MO.AppName,data:j,success:(h.isFunction(n))?n:function(q){MO.debug.log(q)}})}catch(o){MO.debug.error(o)}})}};return{load:k,send:l}})(c);MO.Cookies=(function(h){var j=function(o,p,r){var q=new Date();q.setDate(q.getDate()+window.parseInt(r,10));var n=escape(h.trim(p))+((r==null)?"":"; expires="+q.toUTCString())+"; path=/";document.cookie=h.trim(o)+"="+n},l=function(n){this.create(n,"",-1)},k=function(o){var n=document.cookie.split(";");for(var p=0;p<n.length;p++){var q=new Array();q=n[p].split("=");if(h.trim(q[0])==o){return unescape(h.trim(q[1]))}}};return{create:j,remove:l,read:k}})(c);MO.uaMatch=function(j){j=j.toLowerCase();var h=/(chrome)[ \/]([\w.]+)/.exec(j)||/(webkit)[ \/]([\w.]+)/.exec(j)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(j)||/(msie) ([\w.]+)/.exec(j)||j.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(j)||[];return{browser:h[1]||"",version:h[2]||"0"}};var d=MO.uaMatch(MO.root.navigator.userAgent),b={};if(d.browser){b[d.browser]=true;b.version=d.version}if(b.chrome){b.webkit=true}else{if(b.webkit){b.safari=true}}var g=function(h){var j="Unknown OS";if(h.indexOf("win")!=-1){j="windows"}if(h.indexOf("mac")!=-1){j="macos"}if(h.indexOf("x11")!=-1||h.indexOf("linux")!=-1){j="unix"}if(h.indexOf("linux")!=-1){j="linux"}return j}(MO.root.navigator.appVersion.toLowerCase());b[g]=true;MO.browser=b;MO.hasAttr=MO.util.hasAttr=function(j,k){var h=j.attr(k);return(typeof h!=="undefined"&&h!==false)};MO.UUID=MO.util.UUID=(function(){var j=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var n=Math.random()*16|0,o=l=="x"?n:(n&3|8);return o.toString(16)})},h=function(){return"00000000-0000-0000-0000-000000000000"},k=function(l){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(l)};return{get:j,empty:h,parse:k}})();MO.Config=(function(){var h={},j=function(l){return(!MO.isUndefined(h[l]))?h[l]:null},k=function(l,n){if(j(l)!=null){return false}else{if(MO.isString(l)&&!MO.isBlank(n)){h[l]=n}}};return{get:j,set:k}})();MO.Date=function(){var l=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,j=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,k=/[^-+\dA-Z]/g,h=function(o,n){o=String(o);n=n||2;while(o.length<n){o="0"+o}return o};return function(r,A,E){var t=MO.Date;if(arguments.length==1&&Object.prototype.toString.call(r)=="[object String]"&&!/\d/.test(r)){A=r;r=undefined}r=r?new Date(r):new Date;if(isNaN(r)){r=new Date()}A=String(t.masks[A]||A||t.masks["default"]);if(A.slice(0,4)=="UTC:"){A=A.slice(4);E=true}var n=E?"getUTC":"get",p=r[n+"Date"](),q=r[n+"Day"](),x=r[n+"Month"](),F=r[n+"FullYear"](),v=r[n+"Hours"](),z=r[n+"Minutes"](),C=r[n+"Seconds"](),w=r[n+"Milliseconds"](),B=E?0:r.getTimezoneOffset(),u={d:p,dd:h(p),ddd:t.i18n.dayNames[q],dddd:t.i18n.dayNames[q+7],m:x+1,mm:h(x+1),mmm:t.i18n.monthNames[x],mmmm:t.i18n.monthNames[x+12],yy:String(F).slice(2),yyyy:F,h:v%12||12,hh:h(v%12||12),H:v,HH:h(v),M:z,MM:h(z),s:C,ss:h(C),l:h(w,3),L:h(w>99?Math.round(w/10):w),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:E?"UTC":(String(r).match(j)||[""]).pop().replace(k,""),o:(B>0?"-":"+")+h(Math.floor(Math.abs(B)/60)*100+Math.abs(B)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10]};return A.replace(l,function(o){return o in u?u[o]:o.slice(1,o.length-1)})}}();MO.Date.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};MO.Date.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};MO.Date.parseJSONDate=function(h){if(MO.isBlank(h)){return null}if(!MO.isString(h)){return new Date(h)}else{return new Date(parseInt(h.replace("/Date(","")))}};MO.ValidateRequired=(function(h){h.fn.ValidateRequired=function(j){var k=true,j=(j!=undefined)?j:"error";var l=function(o){var n=h(o.currentTarget);if(!MO.isBlank(n.getWaterValue())){n.parent().removeClass(j);n.unbind("keyup",l)}};h(this).find("input[type=text][data-required][data-required!=false],textarea[data-required][data-required!=false], input[type=password][data-required][data-required!=false]").each(function(o,n){if(MO.isBlank(h(n).getWaterValue())){h(n).parent().addClass(j);h(this).unbind("keyup",l);h(this).bind("keyup",l);k=false}else{h(this).unbind("keyup",l)}});return k};h.fn.RemoveRequiredValidation=function(j){var j=(j!=undefined)?j:"error";var k=function(n){var l=h(n.currentTarget);if(!MO.isBlank(l.getWaterValue())){l.parent().removeClass(j);l.unbind("keyup",k)}};h(this).find("input[type=text][data-required],textarea[data-required], input[type=password][data-required]").each(function(n,l){h(l).parent().removeClass(j);h(this).unbind("keyup",k)})}})(c);MO.getImage=function(n,h){var k=n.split(".").pop();var l=n.replace("."+k,"").replace(MO.ImageSize.Huge,"").replace(MO.ImageSize.Large,"").replace(MO.ImageSize.Medium,"").replace(MO.ImageSize.Small,"").replace(MO.ImageSize.Tiny,"");var j=l;switch(h){case MO.ImageSize.Original:j+=MO.ImageSize.Original;break;case MO.ImageSize.Huge:j+=MO.ImageSize.Huge;break;case MO.ImageSize.Large:j+=MO.ImageSize.Large;break;case MO.ImageSize.Medium:j+=MO.ImageSize.Medium;break;case MO.ImageSize.Small:j+=MO.ImageSize.Small;break;case MO.ImageSize.Tiny:j+=MO.ImageSize.Tiny;break;default:j+=MO.ImageSize.Original;break}j+=("."+k);if(MO.isSecure){j.replace("http://","https://")}return j};MO.User=(function(h){var n=MO.Cookies.read("_user"),j=MO.Cookies.read("_token"),l=function(){return MO.Cookies.read("_user")},k=function(){return MO.Cookies.read("_token")};return{ID:n,AccessTokenID:j,getUserID:l,getAccessTokenID:k}})(c);MO.Tracker=(function(h){return function(j,n,l,o,p){var q=h("[id$=SiteID]").val(),r=h("[id$=SitePageID]").val(),t=(!MO.isBlank(n))?n:"",s=(!MO.isBlank(l))?l:"",u=(!MO.isBlank(o))?o:"",v=(!MO.isBlank(p))?p:"",k=h("<img/>").attr({src:window.location.protocol+"//"+window.location.host+"/tracker.aspx?siteid="+q+"&sitepageid="+r+"&actiontypeid="+j+"&fileid="+t+"&externalURL="+encodeURIComponent(s)+"&filetypeid="+u+"&isloyaltyreward="+v}).bind("load",function(w){h(this).remove()}).appendTo("body")}})(c);MO.URL=(function(h,l){var j=l,k=function(o,n){if(MO.isURL(o)){h.getJSON(j.bitlyUrl+"?callback=?",{format:"json",apiKey:j.bitlyApiKey,login:j.bitlyUser,longUrl:o},function(p){if(p.status_code===200){n(p.data.url,p.data,p.status_code,p.status_txt)}else{n(o,{},p.status_code,p.status_txt)}})}else{n(o,{},500,"Url can't be parsed")}};return{Shortener:k}})(c,f.config());MO.Location=(function(h,n){var l=n,k=null,j=[];_addrs={},_getLocation=function(o){if(MO.isBlank(k)){var p=MO.Proxy.send({url:(MO.isSecure)?"https://ipinfo.io?token="+l.ipinfoApiKey:"http://ipinfo.io",datatype:"jsonp",onSuccess:function(r,q){k=r;if(h.isFunction(o)){o(k)}},onError:function(){if(h.isFunction(o)){o(k)}}});return p}else{if(h.isFunction(o)){o(k)}return null}},_address=function(o){return _getLocation(function(p){if(!MO.isBlank(p)){o({City:p.city,State:p.region,Zip:p.postal,Country:p.country})}else{if(h.isFunction(o)){o({City:"",State:"",Zip:"",Country:""})}}})},_isp=function(o){return _getLocation(function(p){if(!MO.isBlank(p)){o({Org:p.org})}else{if(h.isFunction(o)){o({Org:""})}}})},_latlng=function(o){return _getLocation(function(q){if(!MO.isBlank(q)){var p=q.loc.split(",");if(h.isFunction(o)){o({latitude:p[0],longitude:p[1]})}}else{if(h.isFunction(o)){o({latitude:39.5,longitude:-98.34999999999999})}}})},_remoteip=function(o){return _getLocation(function(p){if(!MO.isBlank(p)){if(h.isFunction(o)){o({IPv4:p.ip})}}else{if(h.isFunction(o)){o({IPv4:"127.0.0.1"})}}})},_grepSDP=function(q){var o=[];q.split("\r\n").forEach(function(s){if(~s.indexOf("a=candidate")){var t=s.split(" "),r=t[4],u=t[7];if(u==="host"){_updateDisplay("a=candidate",r)}}else{if(~s.indexOf("c=")){var t=s.split(" "),r=t[2];_updateDisplay("c=",r)}}});if(!_didCallback&&j.length==2){_didCallback=true;var p={};h.each(j,function(s,r){if(r.split(".").length>1){p.IPv4=r}if(r.split(":").length>1){p.IPv6=r}});_callback(p)}},_updateDisplay=function(p,q){if(q in _addrs){return}else{_addrs[q]=true;if(j){j.push(q)}}var o=Object.keys(_addrs).filter(function(r){return _addrs[r]});return o},_localip=function(o){if(h.isFunction(o)){if(MO.isBlank(j)){_didCallback=false;_callback=o;_addrs["0.0.0.0"]=false;if(MO.browser.chrome||MO.browser.mozilla){var r=window.webkitRTCPeerConnection||window.mozRTCPeerConnection||window.RTCPeerConnection;if(!MO.isBlank(r)){var q=new r({iceServers:[]});if(1||window.mozRTCPeerConnection){q.createDataChannel("",{reliable:false})}q.onicecandidate=function(s){if(s.candidate){_grepSDP("a="+s.candidate.candidate)}};q.createOffer(function(s){q.setLocalDescription(s)},function(s){o({IPv6:"0:0:0:0:0:0:0:1",IPv4:"127.0.0.1"})})}}else{o({IPv6:"0:0:0:0:0:0:0:1",IPv4:"127.0.0.1"})}}else{var p={};h.each(j,function(t,s){if(s.split(".").length>1){p.IPv4=s}if(s.split(":").length>1){p.IPv6=s}});o(p)}}return null};return{getAddress:_address,getISP:_isp,getLatLng:_latlng,getRemoteIP:_remoteip,getLocalIP:_localip}})(c,f.config());MO.Enumeration=(function(){_getKey=function(h,k){for(var j in h){if(h[j]===k){return j}}return null},_getValue=function(h,j){return(!MO.isBlank(h[j]))?h[j]:null};return{getKey:_getKey,getValue:_getValue}})();MO.Base64=(function(){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var n=function(u){var v="",s,t;u=u.replace(/\r\n/g,"\n");for(t=0;t<u.length;t++){s=u.charCodeAt(t);if(s<128){v+=String.fromCharCode(s)}else{if((s>127)&&(s<2048)){v+=String.fromCharCode((s>>6)|192);v+=String.fromCharCode((s&63)|128)}else{v+=String.fromCharCode((s>>12)|224);v+=String.fromCharCode(((s>>6)&63)|128);v+=String.fromCharCode((s&63)|128)}}}return v};var l=function(x){var w="",v=0,s=0,t=0,u=0;while(v<x.length){s=x.charCodeAt(v);if(s<128){w+=String.fromCharCode(s);v++}else{if((s>191)&&(s<224)){t=x.charCodeAt(v+1);w+=String.fromCharCode(((s&31)<<6)|(t&63));v+=2}else{t=x.charCodeAt(v+1);u=x.charCodeAt(v+2);w+=String.fromCharCode(((s&15)<<12)|((t&63)<<6)|(u&63));v+=3}}}return w};var j=function(t){var u="",s;for(s=0;s<t.length;s++){u+=t.charCodeAt(s).toString(16)}return u};var h=function(t){var u="",s;if(t.length%2>0){t="0"+t}for(s=0;s<t.length;s=s+2){u+=String.fromCharCode(parseInt(t.charAt(s)+t.charAt(s+1),16))}return u};var q=function(A){var B="",s,t,u,v,w,x,y,z=0;A=n(A);while(z<A.length){s=A.charCodeAt(z++);t=A.charCodeAt(z++);u=A.charCodeAt(z++);v=s>>2;w=((s&3)<<4)|(t>>4);x=((t&15)<<2)|(u>>6);y=u&63;if(isNaN(t)){x=y=64}else{if(isNaN(u)){y=64}}B+=k.charAt(v);B+=k.charAt(w);B+=k.charAt(x);B+=k.charAt(y)}return B};var o=function(A){var B="",s,t,u,v,w,x,y,z=0;A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(z<A.length){v=k.indexOf(A.charAt(z++));w=k.indexOf(A.charAt(z++));x=k.indexOf(A.charAt(z++));y=k.indexOf(A.charAt(z++));s=(v<<2)|(w>>4);t=((w&15)<<4)|(x>>2);u=((x&3)<<6)|y;B+=String.fromCharCode(s);if(x!==64){B+=String.fromCharCode(t)}if(y!==64){B+=String.fromCharCode(u)}}return l(B)};var p=function(s){return j(o(s))};var r=function(s){return q(h(s))};return{encode:q,decode:o,decodeToHex:p,encodeFromHex:r}})();MO.Queue=(function(){h.prototype.autorun=true;h.prototype.running=false;h.prototype.queue=[];function h(j){if(typeof j!=="undefined"){this.autorun=j}this.queue=[]}h.prototype.add=function(j){var k=this;this.queue.push(function(){var l=j();if(typeof l==="undefined"||l){k.dequeue()}});if(k.autorun&&!k.running){k.dequeue()}return k};h.prototype.dequeue=function(){var j=this;j.running=false;var k=j.queue.shift();if(k){j.running=true;k()}return k};h.prototype.next=h.prototype.dequeue;return h})();MO.HumanReadableFileSize=function(h,j){var k=j?1000:1024;if(h<k){return h+" B"}else{var n=j?["KB","MB","GB","TB","PB","EB","ZB","YB"]:["KB","MB","GB","TB","PB","EB","ZB","YB"];var l=-1;do{h/=k;++l}while(h>=k);return h.toFixed(1)+" "+n[l]}};MO.logError=function(h){if("ShellApp" in window&&!MO.isBlank(ShellApp)&&!MO.isBlank(ShellApp.AnalyticsView)&&c.isFunction(ShellApp.AnalyticsView.track)&&c.isArray(h)&&h.length>0&&c.isPlainObject(h[0])&&!c.isEmptyObject(h[0])){ShellApp.AnalyticsView.track("Exception",h[0])}};MO.QueryParams=(function(h){var j=function(l){var k=(l||window.location.search).substring(1);if(!k){return false}return _.chain(k.split("&")).map(function(o){var n=o.split("=");return[n[0],decodeURIComponent(n[1])]}).object().value()};h.fn.QueryParams=j;_.mixin({QueryParams:j});return j})(c);MO.Device=(function(){var h=function(){if(window.navigator.userAgent.indexOf("Google Page Speed Insights")!=-1){return true}else{return false}};return{detectGooglePageSpeedInsights:h}})();return MO});