define("selectik",["jquery"],function(a){(function(b){var h=false;var j=false;var k=false;var g=false;var d=(/android|iphone|ipad|ipod|android/i.test(navigator.userAgent.toLowerCase()));var e=(/opera/i.test(navigator.userAgent.toLowerCase()));var c=(/msie/i.test(navigator.userAgent.toLowerCase()));var f=Object.prototype.toString.call(window.operamini)==="[object OperaMini]";Selectik=function(l){this.config=b.extend(true,{containerClass:"custom-select",width:0,maxItems:0,customScroll:1,speedAnimation:200,smartPosition:true},l||{});if(b.isFunction(this.config._generateHtml)){this._generateHtml=this.config._generateHtml}if(b.isFunction(this.config._afterLoad)){this._afterLoad=this.config._afterLoad}};Selectik.prototype={_init:function(l){this.$cselect=b(l);this.cselect=l;this.scrollL=false;this.change=false;if(this.config.width==0){this.$cselect.wrap("<span/>");this.config.width=this.$cselect.parent().width();this.$cselect.parent().replaceWith(this.$cselect)}this._generateContainer();this._handlers();if(b.isFunction(this._afterLoad)){this._afterLoad(this)}},_generateContainer:function(){this.$cselect.wrap('<div class="'+this.config.containerClass+(this.$cselect.attr("disabled")==="disabled"?" disable":"")+'"></div>');this.$container=this.$cselect.parent();this._getList({refreshHtml:false})},_getList:function(l){this.count=this.cselect.length;if(l.refreshSelect){b(".select-list",this.$container).remove()}var m=this._generateHtml();var o=(this.config.maxItems>0&&this.config.customScroll==1)?'<div class="select-scroll"><span class="scroll-drag"><!-- --></span></div>':"";var n=(this.config.customScroll==1)?"custom-scroll":"default-scroll";this.$selected=b("option:selected",this.$cselect);if(l.refreshSelect){m='<div class="select-list '+n+'">'+o+"<ul>"+m+"</ul></div>";b(m).prependTo(this.$container)}else{m='<span class="custom-text">'+this.$selected[0].text+'</span><div class="select-list '+n+'">'+o+"<ul>"+m+"</ul></div>";b(m).prependTo(this.$container)}this.$list=b("ul",this.$container);this.$text=b(".custom-text",this.$container);this.$listContainer=b(".select-list",this.$container);this._clickHandler();b("li:eq("+(this.$selected.index())+")",this.$list).addClass("selected");this.$container.removeClass("done");this.setWidthCS(this.config.width);this.standardTop=parseInt(this.$listContainer.css("top"));this._getLength({refreshSelect:l.refreshSelect})},_generateHtml:function(){this.$collection=this.$cselect.children();var m="";for(var n=0;n<this.$collection.length;n++){var l=b(this.$collection[n]);m+='<li class="'+(l.attr("disabled")==="disabled"?"disabled":"")+'" data-value="'+l[0].value+'">'+(l.data("selectik")?l.data("selectik"):l[0].text)+"</li>"}return m},_getLength:function(l){if(!l.refreshSelect){this.heightItem=b("li:nth-child(1)",this.$list).outerHeight()}if(this.count<this.config.maxItems||this.config.maxItems==0){this.$listContainer.hide();this.$container.addClass("done");this.scrollL=false;return}this.scrollL=true;this.heightList=this.heightItem*this.count;this.heightContainer=this.heightItem*this.config.maxItems;this.$list.css("height",this.heightContainer);this.$listContainer.hide();this.$container.addClass("done");if(this.config.customScroll==1){this._getScroll()}},_getScroll:function(){var l=this.heightItem*this.count;this.heightShift=-l+this.heightContainer;this.$bgScroll=b(".select-scroll",this.$listContainer);this.$bgScroll.css("height",this.heightContainer);this.$scroll=b(".scroll-drag",this.$listContainer);this.$listContainer.addClass("maxlength");this.relating=l/this.heightContainer;this.heightScroll=this.heightContainer*(this.heightContainer/l);this.$scroll.css("height",this.heightScroll);if(b(".selected",this.$list).length>0){this._shift(b(".selected",this.$list).index())}if(this.config.customScroll){this._scrollHandlers()}},_scrollHandlers:function(){var m;var l=this;this.$list.bind("mousewheel",function(o,n){m=parseInt(l.$list.css("top"))+(n*l.heightItem);l._shiftHelper(m);return false});this.$bgScroll.click(function(o){var n=(((o.pageY-b(this).offset().top)/l.heightContainer)>0.5)?-1:1;m=parseInt(l.$list.css("top"))+(l.heightItem*n);l._shiftHelper(m);return false});this.$text.on("mousedown",function(n){l._draggable(n,true)});this.$scroll.on("mousedown",function(n){g=false;l._draggable(n,true)});b(document).on("mouseup",function(n){l._draggable(n,false)})},_draggable:function(l,n){var o=this;if(n){h=false;if(l.preventDefault()){l.preventDefault()}var p=parseInt(o.$scroll.css("top"));var m=l.clientY;var q=o.$text.outerHeight();b(document).bind("mousemove",function(v){if(g){var x=o.$list.parent().offset().top;var w=o.$list.outerHeight();var u=(o.topPosition>0)?-1:1;var t=(o.topPosition>0)?q:0;var r=(v.clientY-(x-t-b(window).scrollTop()));if(r<0||r>(w+q)){var s=(r<0)?1:-1;var z=parseInt(o.$list.css("top"))+(s*o.heightItem);o._shiftHelper(z)}}else{var y=(m-v.clientY)-p;o._shiftHelper(y*o.relating)}})}else{b(document).unbind("mousemove");h=true}},_shiftHelper:function(l){l=(l>0)?0:l;l=(l<this.heightShift)?this.heightShift:l;this.$list.css("top",l);this.$scroll.css("top",-l/this.relating)},_shift:function(m){if(m<0||m==this.count){return}this.topShift=(m>this.count-this.config.maxItems)?this.heightList-this.heightContainer:this.heightItem*m;b(".selected",this.$list).removeClass("selected");var l=b("li:nth-child("+(m+1)+")",this.$list);l.addClass("selected");if(h&&j){this.$text.text(l.data("value"))}if(!this.scrollL){return}this._shiftHelper(-this.topShift)},_clickHandler:function(){var l=this;this.$listContainer.off("mousedown","li").on("mousedown","li",function(m){if(l.change){l.change=false;return true}if(b(this).hasClass("disabled")){m.preventDefault();return}l.change=true;l._changeSelected(b(this))})},_handlers:function(){var n=this;var l=b('input[type="reset"]',this.$cselect.parents("form"));if(l.length>0){l.bind("click",function(){var o=(n.$selected.length>0)?n.$selected.index():0;n._changeSelected(b("option:eq("+o+")",n.$cselect))})}this.$cselect.bind("change",function(){if(n.change){n.change=false;return true}n._changeSelected(b("option:selected",b(this)))});this.$text.bind("click",function(o){if(n.$container.hasClass("disable")||g){return false}n.$cselect.focus();n._fadeList(false,true)});var m=false;this.$text.bind("mousedown",function(o){o.preventDefault();m=true;setTimeout(function(){if(m){g=true;n._fadeList(false,true)}},300)});this.$text.bind("mouseup",function(){m=false});this.$listContainer.on("mouseup","li",function(o){if(!g){return true}if(b(this).hasClass("disabled")){return}n.change=true;n._changeSelected(b("option:eq("+b(o.currentTarget).index()+")",n.$cselect));n.hideCS(true);g=false;n.$cselect.focus()});this.$cselect.bind("focus",function(){n.$container.addClass("active")});this.$cselect.bind("blur",function(){if(g){return}n.hideCS(true);n.$container.removeClass("active")});this.$cselect.bind("keyup",function(o){n._keysHandlers(o)});if(e){n.$cselect.bind("keydown",function(){k=true})}},_keysHandlers:function(l){if(l.keyCode==13&&this.$listContainer.is(":visible")){this._fadeList(true,false)}if(!c){if(l.keyCode==27&&this.$listContainer.is(":visible")){this._fadeList(true,true)}}this.$cselect.change();if(this.scrollL){this._shift(b("option:selected",this.$cselect).index())}},_changeSelected:function(m){var l=(m.parents("select").length>0)?m.attr("value"):m.data("value");var n=m.text();this._changeSelectedHtml(l,n,m.index()+1)},_changeSelectedHtml:function(m,o,n){if(n>this.count||n==0){return false}this.change=true;var l=b(".selected",this.$list);b("option:eq("+l.index()+")",this.$cselect).prop("selected",false);b("option:eq("+(n-1)+")",this.$cselect).prop("selected",true);this.$cselect.prop("value",m).change();l.removeClass("selected");b("li:nth-child("+n+")",this.$list).addClass("selected");this.$text.text(o)},_fadeList:function(m,o){var l=b("."+this.config.containerClass+".open_list");if(l.length==1){l.children("select").data("selectik").hideCS();return}if(!o){l.children(".select-list").stop(true,true).fadeOut(this.config.speedAnimation).parent().toggleClass("open_list");if(m){return}}h=false;this.positionCS();this.$listContainer.stop(true,true).fadeToggle(this.config.speedAnimation);this.$listContainer.parent().toggleClass("open_list");var n=this;setTimeout(function(){h=true},n.config.speedAnimation)},hideCS:function(l){this.$listContainer.fadeOut(this.config.speedAnimation);this.$container.removeClass("open_list");if(!l){this.$cselect.focus()}h=true},showCS:function(){h=false;this.$listContainer.fadeIn(this.config.speedAnimation);this.$container.addClass("open_list")},positionCS:function(){if(!this.config.smartPosition){return}elParent=this.$listContainer.parent();var m=(this.scrollL)?this.config.maxItems*this.heightItem:this.count*this.heightItem;var n=(this.scrollL)?this.config.maxItems:this.count;var l=b(window);var p=l.scrollTop();var o=(l.height()-(elParent.offset().top-p)-elParent.outerHeight()<m)?-n*this.heightItem-(elParent.outerHeight()/4):this.standardTop;this.topPosition=((elParent.offset().top-p)<m&&(b("html").height()-elParent.offset().top)>m)?this.standardTop:o;this.$listContainer.css("top",this.topPosition)},refreshCS:function(){this._getList({refreshSelect:true})},changeCS:function(p){var n=(p.index>0)?p.index:b('option[value="'+p.value+'"]',this.$cselect).index()+1;var l=b("option:nth-child("+(n)+")",this.$cselect);var m=l.attr("value");var o=l.text();this._changeSelectedHtml(m,o,n)},disableCS:function(){this.$cselect.attr("disabled",true);this.$container.addClass("disable")},enableCS:function(){this.$cselect.attr("disabled",false);this.$container.removeClass("disable")},requiredCS:function(){this.$text.toggleClass("required")},setWidthCS:function(l){b.each([this.$list,this.$text],function(){var m=b(this).parent(),p=m.outerWidth()-m.width(),n=b(this).outerWidth()-b(this).width(),o=p+n;b(this).css("width",l-o)})}};b.fn.selectik=function(m,l){if(d||f){return}return this.each(function(){if(b("optgroup",this).length>0||b(this).attr("multiple")=="multiple"){return}if(undefined==b(this).data("Selectik")){var n=new Selectik(m);for(i in l){n[i]=l[i]}n._init(this);b(this).data("selectik",n)}})};b(window).resize(function(){if(h){var l=b(".open_list");if(!l.length>0){return}l.children("select").data("selectik").positionCS(b(".select-list:visible"))}});b(document).bind("click",function(n){if(b(n.target).hasClass("disabled")){return}if(k){k=false;return}if(h){h=false;var l=b(".open_list");if(l.length>0){var m=l.children("select");m.data("selectik").hideCS()}}})})(a);return a.fn.selectik});