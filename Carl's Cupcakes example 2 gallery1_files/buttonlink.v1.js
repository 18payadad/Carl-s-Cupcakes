define("buttonlinkv1",["jquery","backbone","utility","data","modal"],function(a,b,d,f,e){var c=b.View.extend({events:{"click .button-page-overlay":"loadOverlay"},defaultOptions:{SitePageModuleID:null,HasAnimation:0,IsPublish:0},initialize:function(){var g=this;g.options=_.extend({},g.defaultOptions,g.options);g.setElement(".mod_btnlink_"+g.options.SitePageModuleID)},render:function(){var g=this;if(g.options.HasAnimation===1){g.isScrolledIntoView();a(window).scroll(function(){g.isScrolledIntoView()})}require(["headerv1"],function(h){h.SetPointMarkerClass(a("[id$=lnkButtonLink]").attr("id"))})},isScrolledIntoView:function(){var i,m,l,h,g,j=null;var k=this;m=a(window).height();l=a(window).scrollTop();h=l+1;g=h+m;j=a(k.$el).offset().top;if(j>h&&j<g){a(k.$el).addClass("animated");setTimeout(function(){k.$el.removeClass("fadeInGlobal")},1000)}},loadOverlay:function(h){var i=this,g=a(h.currentTarget);i.loadModule(i.options.IsPublish,g.data("href"),0,parseInt(g.data("width")),0,parseInt(g.data("close")),i.options.SitePageModuleID)},loadModule:function(k,m,j,n,l,i,h){var g=this;a("body").attr("sitepagemoduleid",h);if(!d.isBlank(m)){g.OpenCounter=window.setTimeout(function(){g.Overlay=new e({modalType:"dialog",autoOpen:true,showOverlay:true,title:"",subtitle:"",description:"",width:(parseInt(a(window).width(),10)*parseInt(n,10)/100),className:"overlay-v1",buttons:[],content:{url:window.location.protocol+"//"+window.location.host+"/bot.ashx?url="+decodeURIComponent((k===0)?window.location.protocol+"//"+window.location.host+"/"+m:window.location.protocol+"//"+m),datatype:"html",onSuccess:function(p,o){o.el.html(p)},onError:function(p,o){g.Overlay.doClose()}},afterContentLoad:function(){if(i>0){g.CloseCounter=window.setTimeout(function(){g.Overlay.doClose()},(parseInt(i,10)*1000))}}})},(parseInt(l,10)*1000))}}});return c});